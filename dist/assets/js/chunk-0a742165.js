(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0a742165"],{1331:function(e,t,r){"use strict";var n=r("b7f0");r.n(n).a},"1c31":function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"b",(function(){return l})),r.d(t,"d",(function(){return s})),r.d(t,"w",(function(){return c})),r.d(t,"e",(function(){return u})),r.d(t,"a",(function(){return d})),r.d(t,"i",(function(){return p})),r.d(t,"g",(function(){return f})),r.d(t,"h",(function(){return m})),r.d(t,"k",(function(){return b})),r.d(t,"l",(function(){return h})),r.d(t,"m",(function(){return v})),r.d(t,"v",(function(){return g})),r.d(t,"j",(function(){return w})),r.d(t,"t",(function(){return y})),r.d(t,"q",(function(){return O})),r.d(t,"p",(function(){return j})),r.d(t,"r",(function(){return k})),r.d(t,"o",(function(){return C})),r.d(t,"u",(function(){return T})),r.d(t,"s",(function(){return M})),r.d(t,"n",(function(){return D}));var n=r("b775"),a=r("3259");function i(e){return Object(n.a)({url:a.a.report.findInterViewPage,method:"get",params:e})}function o(e){return Object(n.a)({url:a.a.report.getInterViewById,method:"get",params:e})}function l(e){return Object(n.a)({url:a.a.report.deleteInterView,method:"delete",params:e})}function s(e){return Object(n.a)({url:a.a.report.findReportPage,method:"get",params:e})}function c(e){return Object(n.a)({url:a.a.post.treeAndUser,method:"get",params:e})}function u(e){return Object(n.a)({url:a.a.post.findWorknotePage,method:"get",params:e})}function d(e){return Object(n.a)({url:a.a.post.countWorkNote,method:"get",params:e})}function p(e){return Object(n.a)({url:a.a.post.noteAduit,method:"post",params:e})}function f(e){return Object(n.a)({url:a.a.post.getRiskByUserId,method:"get",params:e})}function m(e){return Object(n.a)({url:a.a.post.getUserList,method:"get",params:e})}function b(e){return Object(n.a)({url:a.a.report.saveDeclareExit,method:"post",data:e})}function h(e){return Object(n.a)({url:a.a.report.saveDeclareHouse,method:"post",data:e})}function v(e){return Object(n.a)({url:a.a.report.saveMarrage,method:"post",data:e})}function g(e){return Object(n.a)({url:a.a.report.saveWeddingBanquet,method:"post",data:e})}function w(e){return Object(n.a)({url:a.a.report.saveCashGift,method:"post",data:e})}function y(e){return Object(n.a)({url:a.a.report.saveRelativesWork,method:"post",data:e})}function O(e){return Object(n.a)({url:a.a.report.saveRelativesAbroad,method:"post",data:e})}function j(e){return Object(n.a)({url:a.a.report.saveOverseasInvestment,method:"post",data:e})}function k(e){return Object(n.a)({url:a.a.report.saveRelativesBusiness,method:"post",data:e})}function C(e){return Object(n.a)({url:a.a.report.saveOverseasDeposit,method:"post",data:e})}function T(e){return Object(n.a)({url:a.a.report.saveSecuredLoan,method:"post",data:e})}function M(e){return Object(n.a)({url:a.a.report.saveRelativesIllegal,method:"post",data:e})}function D(e){return Object(n.a)({url:a.a.report.saveOtherReport,method:"post",data:e})}},8054:function(e,t,r){"use strict";var n=r("c7e0");r.n(n).a},b7f0:function(e,t,r){},c7e0:function(e,t,r){},eb3a:function(e,t,r){"use strict";r.r(t);var n=r("1c31"),a=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),i=r("3a58"),o=r("2f62");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var s={data:function(){return{title:"新增谈话",opeart:"",visible:!1,form:{deptId:"",interviewMan:"",interviewTime:"",interviewType:"",interviewContent:""},config:{value:"id",label:"name",children:"childrens",disabled:!0},options:[{value:1,label:"谈话谈心"},{value:2,label:"家庭走访"},{value:3,label:"约谈提醒"},{value:4,label:"帮助教育"},{value:5,label:"其他"}],interviewMans:[]}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(o.c)(["orgData"])),methods:{open:function(e,t){this.opeart=e,this.visible=!0,"view"===e?(this.title="详情",this.getDetail(t)):"add"===e?this.title="新增谈话":"update"===e&&(this.title="修改",this.getDetail(t))},colseHandle:function(){this.$refs.form.resetFields()},getDetail:function(e){var t=this,r={id:e.id};Object(n.f)(r).then((function(e){e.success&&(t.form=e.data)}))},orgChange:function(e){this.getUserListData(e)},getUserListData:function(e){var t=this,r={orgId:e};Object(i.g)(r).then((function(e){e.success&&e.data&&0<e.data.length&&(t.interviewMans=e.data)}))},onSubmit:function(){},updateHandler:function(){}}},c=(r("1331"),r("2877")),u={name:"IndividualReport",components:{TalkModal:Object(c.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.visible,width:"600px"},on:{"update:visible":function(t){e.visible=t},close:e.colseHandle}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",size:"small"}},[r("el-form-item",{attrs:{label:"部门",prop:"deptId"}},[r("select-tree",{attrs:{props:e.config,treeData:e.orgData,placeholder:"请选择部门"},on:{change:e.orgChange},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1),r("el-form-item",{attrs:{label:"被谈话人",prop:"interviewMan"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.interviewMan,callback:function(t){e.$set(e.form,"interviewMan",t)},expression:"form.interviewMan"}},e._l(e.interviewMans,(function(e){return r("el-option",{key:e.id,attrs:{label:e.realName,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"谈话类型",prop:"interviewType"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.interviewType,callback:function(t){e.$set(e.form,"interviewType",t)},expression:"form.interviewType"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"谈话时间",prop:"interviewTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.interviewTime,callback:function(t){e.$set(e.form,"interviewTime",t)},expression:"form.interviewTime"}})],1),r("el-form-item",{attrs:{label:"谈话类容",prop:"interviewContent"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.interviewContent,callback:function(t){e.$set(e.form,"interviewContent",t)},expression:"form.interviewContent"}})],1),r("div",{staticStyle:{"text-align":"center"}},["view"===e.opeart?r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("确认")]):e._e(),"add"===e.opeart?r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("保存")]):e._e(),"update"===e.opeart?r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.updateHandler}},[e._v("保存")]):e._e(),r("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("取消")])],1)],1)],1)}),[],!1,null,"6bf7a0b6",null).exports},data:function(){var e=this;return{userId:"5ba98b66cd3549b9b92ea8723e89207e",addForm:"/TalkAdd",btnsConfig:{showAdd:!0},searchData:{userName:"",department:"",startTime:"",endTime:""},searchForm:[{label:"姓名：",type:"input",prop:"userName",width:"120px",placeholder:""},{label:"所属部门：",type:"select",prop:"department",width:"150px",options:[{label:"治安部门",value:"0"},{label:"交通管理部门",value:"1"}],change:function(){},placeholder:"所属部门"},{label:"筛选时间：",type:"daterange",options:[{prop:"startTime",format:"yyyy-MM-dd",valueformat:"yyyy-MM-dd",placeholder:"起始时间"},{prop:"endTime",format:"yyyy-MM-dd",valueformat:"yyyy-MM-dd",placeholder:"结束时间"}]}],tableList:[],options:{pageSize:10,hasIndex:!1,currentPage:1,loading:!0,maxHeight:null,height:"550"},columns:[{prop:"interviewTime",label:"谈话时间",align:"left"},{prop:"interviewMan",label:"被谈话人",align:"left"},{prop:"userName",label:"谈话领导",align:"left"},{prop:"interviewType",formatter:"interviewType_formatter",options:{1:"谈话谈心",2:"家庭走访",3:"约谈提醒",4:"帮助教育",5:"其他"},label:"谈话类型",align:"left"},{prop:"deptName",label:"所属部门",align:"left"}],operates:{width:200,fixed:"right",list:[{id:"1",label:"详情",show:!0,underline:!1,icon:'<i class="el-icon-view"></i>',disabled:!1,method:function(t,r){e.$refs.talkModal.open("view",r)},showCallback:function(){return!0}},{id:"2",label:"修改",show:!0,underline:!1,icon:'<i class="el-icon-edit-outline"></i>',disabled:!1,method:function(t,r){e.$refs.talkModal.open("update",r)},showCallback:function(){return!0}},{id:"3",label:"删除",show:!0,underline:!1,icon:'<i class="el-icon-delete"></i>',disabled:!1,method:function(t,r){var a=e;a.$confirm("是否删除？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"删除",cancelButtonText:"取消"}).then((function(){Object(n.b)({id:r.id}).then((function(e){try{e.success&&(a.$message({type:"success",message:"删除成功"}),a.init())}catch(e){}}))})).catch((function(){}))},showCallback:function(){return!0}}]}}},watch:{},mounted:function(){this.init()},methods:{init:function(){this.query()},interviewType_formatter:function(e,t,r){return t.options[r]},handleSearch:function(e){Object.assign(this.searchData,e),this.query()},afterCurrentPageClickHandle:function(e,t){this.query(e),t()},query:function(e){var t=this,r=0<arguments.length&&void 0!==e?e:1;Object(n.c)(Object.assign({nCurrent:r,nSize:10,userId:this.userId,isAsc:!1,orderByField:"interviewTime"},this.searchData)).then((function(e){t.$refs.recordTalksTableRef.setPageInfo(r,e.data.size,e.data.total,e.data.records)}))},addClickHandle:function(){this.$refs.talkModal.open("add")}}},d=(r("8054"),Object(c.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e._m(0),r("div",{staticClass:"content"},[r("div",{staticClass:"search-wrap"},[r("div",{staticClass:"section-title"},[e._v("查询条件")]),r("e-search",{staticClass:"search-form",attrs:{searchData:e.searchData,searchForm:e.searchForm,btnsConfig:e.btnsConfig},on:{handleSearch:e.handleSearch,addClickHandle:e.addClickHandle}})],1),r("div",[r("e-table",{ref:"recordTalksTableRef",attrs:{tableList:e.tableList,options:e.options,columns:e.columns,operates:e.operates},on:{afterCurrentPageClick:e.afterCurrentPageClickHandle}})],1)]),r("talk-modal",{ref:"talkModal"})],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-title"},[t("span",[this._v("谈话谈心")])])}],!1,null,"2e91d16a",null));t.default=d.exports}}]);