(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2932cfa4"],{"324d":function(t,a,e){"use strict";var s=e("a552");e.n(s).a},"76c1":function(t,a,e){"use strict";var s=e("b211");e.n(s).a},"9dc3":function(t,a,e){"use strict";e.r(a);var s=e("cfa6"),i=e("6861"),r=e("b775"),n=e("3259"),o=e("b166"),l={props:{title:{type:String,default:"详情"}},filters:{formatTime:function(t,a){var e=1<arguments.length&&void 0!==a?a:"yyyy-MM-dd HH:mm:ss";if(t)return Object(o.a)(t,e)}},data:function(){return{visible:!1,detailInfo:{}}},methods:{open:function(t){this.visible=!0,this.detailInfo=t}}},p=(e("76c1"),e("2877")),c=Object(p.a)(l,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-dialog",{attrs:{title:t.title,visible:t.visible},on:{"update:visible":function(a){t.visible=a}}},[e("div",{staticClass:"detail-wrapper"},[e("el-scrollbar",{staticStyle:{height:"100%"}},[e("div",{staticClass:"detail-info"},[e("div",{staticClass:"user-info mb-ten"},[e("span",[t._v(t._s(t.detailInfo.userName?t.detailInfo.userName:""))]),e("span",[t._v(t._s(t.detailInfo.policeCode?t.detailInfo.policeCode:""))]),e("span",[t._v(t._s(t.detailInfo.department?t.detailInfo.department:""))])]),e("div",{staticClass:"mb-ten"},[e("span",[t._v("借出时间：")]),e("span",[t._v(t._s(t._f("formatTime")(t.detailInfo.startTime)))])]),e("div",{staticClass:"mb-ten"},[e("span",[t._v("归还时间：")]),e("span",[t._v(t._s(t._f("formatTime")(t.detailInfo.endTime)))])]),e("div",{staticClass:"mb-ten"},[e("span",[t._v("预警时间：")]),e("span")]),e("div",{staticClass:"mb-ten"},[e("span",[t._v("预警原因：")]),e("span")]),e("div",{staticClass:"advice"},[e("p",[t._v("本人反馈：")]),e("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"}})],1),e("div",{staticClass:"advice"},[e("p",[t._v("层级领导反馈：")]),e("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"}})],1),e("div",{staticClass:"advice"},[e("p",[t._v("职能部门反馈：")]),e("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"}})],1)])])],1)])],1)}),[],!1,null,"180da05c",null).exports,d={components:{RingChart:s.default,HistogramChart:i.default,GoAbroadDetail:c},data:function(){var t=this;return{withoutPassport:{data:{columns:["passport","number"],rows:[]},labelMap:{number:"数量"}},passport:{data:{columns:["passportManage","number"],rows:[]},labelMap:{number:"数量"}},goingAbroad:{data:{columns:["place","num"],rows:[]},labelMap:{num:"次数"}},searchData:{policeCode:"",userName:"",department:"",startTime:"",endTime:""},searchForm:[{type:"input",prop:"policeCode",width:"120px",placeholder:"警号"},{type:"input",prop:"userName",width:"120px",placeholder:"姓名"},{type:"select",prop:"department",width:"150px",options:[],change:function(){},placeholder:"所属部门"},{type:"daterange",options:[{prop:"startTime",format:"",valueformat:"",placeholder:"起始时间"},{prop:"endTime",format:"",valueformat:"",placeholder:"结束时间"}]},{type:"select",prop:"",width:"150px",options:[{label:"保管",value:"保管"},{label:"借出",value:"借出"}],change:function(){},placeholder:"护照情况"}],options:{pageSize:10,hasIndex:!1,currentPage:1,loading:!0,maxHeight:null,height:"500"},columns:[{prop:"policeCode",label:"警号",align:"left"},{prop:"userName",label:"姓名",align:"left"},{prop:"department",label:"部门",align:"left"},{prop:"reason",label:"出国原因",align:"left"},{prop:"startTime",label:"开始时间",align:"left",type:"date",dateFormat:"yyyy-MM-dd"},{prop:"endTime",label:"结束时间",align:"left",type:"date",dateFormat:"yyyy-MM-dd"},{prop:"certificateType",label:"护照情况",align:"left"},{prop:"isException",label:"是否异常",align:"left"}],operates:{width:150,fixed:"right",list:[{id:"1",label:"详情",show:!0,underline:!1,icon:'<i class="el-icon-view"></i>',disabled:!1,method:function(a,e){t.$refs.goAbroadDetail.open(e)},showCallback:function(){return!0}}]},tableList:[]}},methods:{handleSearch:function(t){Object.assign(this.searchData,t),this.query()},afterCurrentPageClickHandle:function(t,a){this.query(t),a()},query:function(t){var a,e=this,s=0<arguments.length&&void 0!==t?t:1;a=Object.assign({nCurrent:s,nSize:10,orderByField:""},this.searchData),Object(r.a)({url:n.a.goAbroad.findAbroadRecordPage,method:"get",params:a}).then((function(t){var a=t.data.size;return{data:t.data.records,total:t.data.total,size:a}})).then((function(t){e.$refs.recordSpTableRef.setPageInfo(s,t.size,t.total,t.data)}))}},created:function(){var t=this;Object(r.a)({url:n.a.goAbroad.countPassport,method:"get"}).then((function(t){return t.data})).then((function(a){for(var e in a)t.withoutPassport.data.rows.push({passport:e,number:a[e]})})),Object(r.a)({url:n.a.goAbroad.certificateInfoStatistics,method:"get"}).then((function(t){return t.data})).then((function(a){for(var e in a)t.passport.data.rows.push({passportManage:e,number:a[e]})})),Object(r.a)({url:n.a.goAbroad.palaceInfoStatistics,method:"get"}).then((function(t){return t.data})).then((function(a){for(var e in a)t.goingAbroad.data.rows.push({place:e,num:a[e]})})),this.query()}},u=(e("324d"),Object(p.a)(d,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[t._m(0),e("div",{staticClass:"content"},[e("el-row",{staticClass:"bg-fff"},[e("el-col",{attrs:{span:8}},[e("RingChart",{attrs:{"chart-data":t.withoutPassport.data,"label-map":t.withoutPassport.labelMap,title:"民警数量"}})],1),e("el-col",{attrs:{span:8}},[e("RingChart",{attrs:{"chart-data":t.passport.data,"label-map":t.passport.labelMap,title:"民警数量"}})],1),e("el-col",{attrs:{span:8}},[e("HistogramChart",{attrs:{"chart-data":t.goingAbroad.data,"label-map":t.goingAbroad.labelMap,title:"次数"}})],1)],1),e("div",{staticClass:"search-wrap"},[e("div",{staticClass:"section-title"},[t._v("查询条件")]),e("e-search",{staticClass:"search-form",attrs:{searchData:t.searchData,searchForm:t.searchForm},on:{handleSearch:t.handleSearch}})],1),e("div",[e("e-table",{ref:"recordSpTableRef",attrs:{options:t.options,columns:t.columns,operates:t.operates,tableList:t.tableList},on:{afterCurrentPageClick:t.afterCurrentPageClickHandle}})],1)],1),e("GoAbroadDetail",{ref:"goAbroadDetail"})],1)}),[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-title"},[e("span",[t._v("出国情况")])])}],!1,null,"3b475a4f",null));a.default=u.exports},a552:function(t,a,e){},b211:function(t,a,e){}}]);