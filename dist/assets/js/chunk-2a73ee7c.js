(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2a73ee7c"],{"67fa":function(e,a,t){"use strict";var l=t("78ce");t.n(l).a},"78ce":function(e,a,t){},"7db5":function(e,a,t){"use strict";t.r(a),t("fb6a");var l=t("6861"),n=t("1086"),r=t("b775"),o=t("3259"),i={components:{HistogramChart:l.default,LineChart:n.default},data:function(){return{checkingInResult:{data:{columns:["type","num"],rows:[]},labelMap:{num:"打卡次数"}},workTime:{data:{columns:["date","duration"],rows:[]},labelMap:{duration:"时长"}},searchData:{policeCode:"",userName:"",department:"",startTime:"",endTime:"",location:"",status:""},searchForm:[{type:"input",prop:"policeCode",width:"120px",placeholder:"警号"},{type:"input",prop:"userName",width:"120px",placeholder:"姓名"},{type:"select",prop:"department",width:"150px",options:[],change:function(){},placeholder:"所属部门"},{type:"daterange",options:[{prop:"startTime",format:"",valueformat:"",placeholder:"起始时间"},{prop:"endTime",format:"",valueformat:"",placeholder:"结束时间"}]},{type:"select",prop:"location",width:"150px",options:[{label:"门禁",value:"门禁"},{label:"app",value:"app"},{label:"钉钉",value:"钉钉"}],change:function(){},placeholder:"打卡方式"},{type:"select",prop:"status",width:"150px",options:[{label:"正常",value:"正常"},{label:"迟到",value:"迟到"},{label:"早退",value:"早退"},{label:"请假",value:"请假"},{label:"未打卡",value:"未打卡"}],change:function(){},placeholder:"考勤结果"}],userId:{userId:"2020"},options:{pageSize:10,hasIndex:!1,currentPage:1,loading:!0,maxHeight:null,height:"500"},columns:[{prop:"clockDate",label:"时间",align:"left"},{prop:"policeCode",label:"警号",align:"left"},{prop:"userName",label:"姓名",align:"left"},{prop:"department",label:"部门",align:"left"},{prop:"startTime",label:"上班打卡时间",align:"left"},{prop:"clockWay",label:"打卡方式",align:"left"},{prop:"endTime",label:"下班打卡时间",align:"left"},{prop:"location",label:"下班打卡方式",align:"left"},{prop:"overtime",label:"加班时长",align:"left"},{prop:"resultStatus",label:"考勤结果",align:"left"}],tableList:[]}},methods:{handleSearch:function(e){Object.assign(this.searchData,e),this.query()},afterCurrentPageClickHandle:function(e,a){this.query(e),a()},query:function(e){var a,t=this,l=0<arguments.length&&void 0!==e?e:1;a=Object.assign({nCurrent:l,nSize:10},this.searchData,this.userId),Object(r.a)({url:o.a.clockingIn.findClockPage,method:"get",params:a}).then((function(e){var a=e.data.size;return{data:e.data.records,total:e.data.total,size:a}})).then((function(e){t.$refs.recordSpTableRef.setPageInfo(l,e.size,e.total,e.data)}))}},created:function(){var e,a,t=this;e=this.userId,Object(r.a)({url:o.a.clockingIn.clockWarnReasonStatistics,method:"get",params:e}).then((function(e){return e.data})).then((function(e){for(var a in e)t.checkingInResult.data.rows.push({type:a,num:e[a]})})),a=this.userId,Object(r.a)({url:o.a.clockingIn.clockWarnTimesStatistics,method:"get",params:a}).then((function(e){return e.data})).then((function(e){for(var a in e)t.workTime.data.rows.push({date:a.slice(0,10),duration:e[a]})})),this.query()}},s=(t("67fa"),t("2877")),c=Object(s.a)(i,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[e._m(0),t("div",{staticClass:"content"},[t("el-row",{staticClass:"bg-fff"},[t("el-col",{attrs:{span:12}},[t("HistogramChart",{attrs:{"chart-data":e.checkingInResult.data,"label-map":e.checkingInResult.labelMap,title:"考勤结果"}})],1),t("el-col",{attrs:{span:12}},[t("LineChart",{attrs:{"chart-data":e.workTime.data,"label-map":e.workTime.labelMap,rotate:60,title:"上班时长"}})],1)],1),t("div",{staticClass:"search-wrap"},[t("div",{staticClass:"section-title"},[e._v("查询条件")]),t("e-search",{staticClass:"search-form",attrs:{searchData:e.searchData,searchForm:e.searchForm},on:{handleSearch:e.handleSearch}})],1),t("div",[t("e-table",{ref:"recordSpTableRef",attrs:{options:e.options,columns:e.columns,tableList:e.tableList},on:{afterCurrentPageClick:e.afterCurrentPageClickHandle}})],1)],1)])}),[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"page-title"},[t("span",[e._v("智慧考勤分析")])])}],!1,null,"62c4dc34",null);a.default=c.exports}}]);