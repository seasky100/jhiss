(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-41446754"],{"1c31":function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"f",(function(){return o})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return c})),a.d(e,"w",(function(){return l})),a.d(e,"e",(function(){return u})),a.d(e,"a",(function(){return d})),a.d(e,"i",(function(){return p})),a.d(e,"g",(function(){return f})),a.d(e,"h",(function(){return h})),a.d(e,"k",(function(){return m})),a.d(e,"l",(function(){return b})),a.d(e,"m",(function(){return v})),a.d(e,"v",(function(){return g})),a.d(e,"j",(function(){return _})),a.d(e,"t",(function(){return C})),a.d(e,"q",(function(){return j})),a.d(e,"p",(function(){return O})),a.d(e,"r",(function(){return k})),a.d(e,"o",(function(){return y})),a.d(e,"u",(function(){return I})),a.d(e,"s",(function(){return w})),a.d(e,"n",(function(){return x}));var n=a("b775"),r=a("3259");function s(t){return Object(n.a)({url:r.a.report.findInterViewPage,method:"get",params:t})}function o(t){return Object(n.a)({url:r.a.report.getInterViewById,method:"get",params:t})}function i(t){return Object(n.a)({url:r.a.report.deleteInterView,method:"delete",params:t})}function c(t){return Object(n.a)({url:r.a.report.findReportPage,method:"get",params:t})}function l(t){return Object(n.a)({url:r.a.post.treeAndUser,method:"get",params:t})}function u(t){return Object(n.a)({url:r.a.post.findWorknotePage,method:"get",params:t})}function d(t){return Object(n.a)({url:r.a.post.countWorkNote,method:"get",params:t})}function p(t){return Object(n.a)({url:r.a.post.noteAduit,method:"post",params:t})}function f(t){return Object(n.a)({url:r.a.post.getRiskByUserId,method:"get",params:t})}function h(t){return Object(n.a)({url:r.a.post.getUserList,method:"get",params:t})}function m(t){return Object(n.a)({url:r.a.report.saveDeclareExit,method:"post",data:t})}function b(t){return Object(n.a)({url:r.a.report.saveDeclareHouse,method:"post",data:t})}function v(t){return Object(n.a)({url:r.a.report.saveMarrage,method:"post",data:t})}function g(t){return Object(n.a)({url:r.a.report.saveWeddingBanquet,method:"post",data:t})}function _(t){return Object(n.a)({url:r.a.report.saveCashGift,method:"post",data:t})}function C(t){return Object(n.a)({url:r.a.report.saveRelativesWork,method:"post",data:t})}function j(t){return Object(n.a)({url:r.a.report.saveRelativesAbroad,method:"post",data:t})}function O(t){return Object(n.a)({url:r.a.report.saveOverseasInvestment,method:"post",data:t})}function k(t){return Object(n.a)({url:r.a.report.saveRelativesBusiness,method:"post",data:t})}function y(t){return Object(n.a)({url:r.a.report.saveOverseasDeposit,method:"post",data:t})}function I(t){return Object(n.a)({url:r.a.report.saveSecuredLoan,method:"post",data:t})}function w(t){return Object(n.a)({url:r.a.report.saveRelativesIllegal,method:"post",data:t})}function x(t){return Object(n.a)({url:r.a.report.saveOtherReport,method:"post",data:t})}},"9b0f":function(t,e,a){"use strict";a.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"photo_img_con",staticStyle:{border:"3px solid #afafaf"}},[e("img",{staticClass:"photo_img",attrs:{src:a("d297")}})])}],r=(a("d81d"),a("b0c0"),a("2909")),s=a("3a58"),o=a("1c31"),i={name:"Personnel_relation",inject:["MenuPage"],data:function(){return{personInfo:{},active:1,labelList:[{label:"党员"},{label:"岗位状态"},{label:"岗位状态"}],projectList:[{name:"工作日志",path:"/HierEvaluation"},{name:"岗位预警"},{name:"谈话谈心",path:"/talks"},{name:"责任清单"}],submenuList:[{name:"我的直属领导"},{name:"我的下属同事"}],tree_data:null,person_data:[],color_arr:[{bg:"#EAE9EF",color:"#A52126"},{bg:"#E6FAF5",color:"#81D5C0"},{bg:"#D6E9FF",color:"#4D86F0"}],model:"",level:2,dialogVisible:!1,warningInfo:null,gridData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}]}},watch:{},mounted:function(){this.init()},methods:{init:function(){var t=this.$route.query;this.personInfo=t.value,this.labelList=[this.personInfo.orgName,this.personInfo.orgPname],this.tree_data=t.value,this.model=t.model,null==this.tree_data.children&&(this.submenuList=[{name:"我的直属领导"}],this.level=1,this.active=0),this.person_data=this.tree_data.children;var e=Object(r.a)(this.person_data);this.person_data=e.map((function(t){return t.label=[t.orgName,t.orgPname],t})),this.getData()},getData:function(){var t=this,e=this,a={userId:e.$store.state.user.userId};Object(s.f)(a).then((function(a){if(1==a.success)if(0<a.data.posts.length){var n=a.data.posts[0];n.children=e.tree_data,e.tree_data=n}else t.submenuList=[{name:"我的下属同事"}],e.level=3,t.active=0})).catch((function(t){}))},subMenuClick:function(t){2==this.level&&(this.active=t,this.person_data=0==t?[this.tree_data]:this.tree_data.children.children)},handleClick:function(t){if(null==t.path){if("岗位预警"==t.name){var e=this.personInfo.id;this.getRiskByUserData(e)}}else this.MenuPage.activeMenu=t.path,this.$router.push({path:t.path})},getRiskByUserData:function(){var t=this,e=this;Object(o.g)(Object.assign({userId:"27b50377217444538a041e15d9b83bcc"})).then((function(a){1==a.success&&(t.warningInfo=a.data[0],e.dialogVisible=!0)}))}}},c=(a("bace"),a("2877")),l=Object(c.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"person_home"},[n("div",{staticClass:"individual_title"}),n("div",{staticClass:"police_career",staticStyle:{height:"calc(100% - 101px)",background:"none"}},[n("div",{staticClass:"fengxian fengxian_left",staticStyle:{width:"460px"}},[n("div",{staticClass:"con photoImg"},[t._m(0),n("div",{staticClass:"img_name"},[t._v(t._s(t.personInfo.userPname))])]),n("div",{staticClass:"con labelCon"},[n("span",{staticClass:"top_title"},[t._v("标签")]),t._l(t.labelList,(function(e,a){return n("span",{key:a,staticClass:"label_body",style:[{background:t.color_arr[a].bg,color:t.color_arr[a].color}]},[t._v(" "+t._s(e)+" ")])}))],2),n("div",{staticClass:"con projectCon",staticStyle:{height:"90px"}},[n("span",{staticClass:"top_title"},[t._v("项目")]),t._l(t.projectList,(function(e,a){return n("li",{key:a,staticClass:"project_li",on:{click:function(a){return t.handleClick(e)}}},[n("span",[t._v(t._s(e.name))])])}))],2),n("div",{staticClass:"con orgTreeCon"},[n("org-tree",{attrs:{data:t.tree_data,collapsable:!1,model:t.model,expandAll:!0}})],1)]),n("div",{staticClass:"fengxian",staticStyle:{width:"calc(99% - 460px)","margin-left":"0.7%"}},[n("div",{staticClass:"person_title"},t._l(t.submenuList,(function(e,a){return n("div",{key:a,staticClass:"submenu",style:[{"border-bottom":t.active==a?"4px solid #AB2C31":"none",color:t.active==a?"#AB2C31":"#7F7E84"}],on:{click:function(e){return t.subMenuClick(a)}}},[t._v(" "+t._s(e.name)+" ")])})),0),n("div",{staticClass:"relationBody"},[0<t.person_data.length?n("org-relation",{attrs:{data:t.person_data}}):t._e()],1)])]),null!=t.warningInfo?n("el-dialog",{staticClass:"dialog_info",attrs:{title:"人员信息",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",[n("img",{staticClass:"photo_img",staticStyle:{float:"left"},attrs:{src:a("d297")}}),n("div",{staticStyle:{float:"left",padding:"15px","line-height":"25px"}},[n("span",{staticClass:"dialogName"},[t._v(t._s(t.warningInfo.userName))]),n("span",{staticStyle:{color:"#ccc"}},[t._v("警号：")]),t._v(t._s(t.warningInfo.policeCode)+" "),n("span",{staticStyle:{color:"#ccc","margin-left":"10px"}},[t._v("职务：")]),t._v(t._s(t.warningInfo.orgName)+" "),n("span",{staticStyle:{color:"#ccc","margin-left":"10px"}},[t._v("部门：")]),t._v(t._s(t.warningInfo.postName)+" "),n("span",{staticStyle:{color:"#ccc","margin-left":"10px"}},[t._v("职级：")]),t._v(t._s(t.warningInfo.orgName)+" ")])]),n("el-table",{staticClass:"diaTab",attrs:{data:t.warningInfo.riskContentList}},[n("el-table-column",{attrs:{property:"workMatters",label:"工作事项"}}),n("el-table-column",{attrs:{property:"riskContent",label:"岗位廉政风险"}}),n("el-table-column",{attrs:{property:"riskMesure",label:"防控措施"}})],1)],1):t._e()],1)}),n,!1,null,"27f792c5",null);e.default=l.exports},bace:function(t,e,a){"use strict";var n=a("e997");a.n(n).a},e997:function(t,e,a){}}]);