(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-52fe9096"],{"6a36":function(t,e,a){"use strict";a.r(e),a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var n=a("ade3"),r=(a("afb1"),a("7f6a")),s=a("2f62");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var c={data:function(){return this.chartExtend={series:{smooth:!1}},this.chartSettings={labelMap:{applynum:"次数"}},{searchData:{userName:"",department:"",applyType:"",startTime:"",endTime:""},searchForm:[{type:"input",prop:"userName",width:"120px",placeholder:"用户名称"},{type:"select",prop:"department",width:"150px",options:[{label:"治安部门",value:"0"},{label:"交通管理部门",value:"1"}],change:function(){},placeholder:"所属部门"},{type:"daterange",options:[{prop:"startTime",format:"",valueformat:"",placeholder:"起始时间"},{prop:"endTime",format:"",valueformat:"",placeholder:"结束时间"}]},{type:"select",prop:"applyType",width:"150px",options:[{label:"否",value:0},{label:"是",value:1}],change:function(){},placeholder:"申请类型"}],tableList:[],options:{pageSize:10,hasIndex:!(this.axisOptions={axisLabel:{rotate:30}}),currentPage:1,loading:!0,maxHeight:null,height:"560"},columns:[{prop:"policeCode",label:"警号",align:"left"},{prop:"userName",label:"姓名",align:"left"},{prop:"department",label:"所属部门",align:"left"},{prop:"applyTime",label:"预警时间",align:"left",type:"date"},{prop:"exceptionReason",label:"请假原因",align:"left"},{prop:"applyType",label:"请假类型",align:"left"},{prop:"approvalState",label:"审批状态",align:"left"},{prop:"isException",label:"是否异常",align:"left"},{prop:"exceptionReason",label:"异常原因",align:"left"}],warnStatusTitle:{text:"请假异常情况统计"},warnStatusSettings:{labelMap:{num:"次数"}},warnStatusStatistics:{columns:["status","num"],rows:[]},humanStatistics:{columns:["month","applynum"],rows:[]},title:{text:"请假统计",left:"center"}}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(s.c)(["userId"])),methods:{handleSearch:function(t){Object.assign(this.searchData,t),this.query()},afterCurrentPageClickHandle:function(t,e){this.query(t),e()},getVacationApply:function(){var t=this,e={userId:this.userId,deptId:"111",role:"10"};Object(r.b)(e).then((function(e){if(e.success&&e.data&&0<e.data.length){var a=e.data;a.forEach((function(t){t.month=t.month+"月"})),t.humanStatistics.rows=a}}))},getExceptionStatistics:function(){var t=this,e={userId:this.userId};Object(r.c)(e).then((function(e){if(e.success&&e.data){var a=[];for(var n in e.data)a.push({status:n,num:e.data[n]});t.warnStatusStatistics.rows=a}else t.$message({type:"warning",message:e.message})}))},query:function(t){var e=this,a=0<arguments.length&&void 0!==t?t:1;Object(r.d)(Object.assign({nCurrent:a,nSize:10,user_id:this.userId},this.searchData)).then((function(t){e.$refs.recordSpTableRef.setPageInfo(a,t.data.size,t.data.total,t.data.records)}))}},mounted:function(){this.getVacationApply(),this.getExceptionStatistics(),this.query()}},o=(a("cdd1"),a("2877")),l=Object(o.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"content"},[a("el-row",{staticClass:"bg-fff"},[a("el-col",{attrs:{span:12}},[a("e-histogram",{attrs:{chartSettings:t.warnStatusSettings,title:t.warnStatusTitle,chartData:t.warnStatusStatistics,xAxis:t.axisOptions}})],1),a("el-col",{attrs:{span:12}},[a("ve-line",{attrs:{title:t.title,data:t.humanStatistics,extend:t.chartExtend,settings:t.chartSettings,"legend-visible":!1}})],1)],1),a("div",{staticClass:"search-wrap"},[a("div",{staticClass:"section-title"},[t._v("查询条件")]),a("e-search",{staticClass:"search-form",attrs:{searchData:t.searchData,searchForm:t.searchForm},on:{handleSearch:t.handleSearch}})],1),a("div",[a("e-table",{ref:"recordSpTableRef",attrs:{tableList:t.tableList,options:t.options,columns:t.columns},on:{afterCurrentPageClick:t.afterCurrentPageClickHandle}})],1)],1)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-title"},[a("span",[t._v("请假加班")])])}],!1,null,"6c69e652",null);e.default=l.exports},"7f6a":function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return o}));var n=a("b775"),r=a("3259");function s(t){return Object(n.a)({url:r.a.vacation.findVacationPage,method:"get",params:t})}function i(t){return Object(n.a)({url:r.a.vacation.vacationApplyByMonth,method:"get",params:t})}function c(t){return Object(n.a)({url:r.a.vacation.vacationExceptionStatistics,method:"get",params:t})}function o(t){return Object(n.a)({url:r.a.vacation.findAbroadRecordPage,method:"get",params:t})}},"9390f":function(t,e,a){},cdd1:function(t,e,a){"use strict";var n=a("9390f");a.n(n).a}}]);