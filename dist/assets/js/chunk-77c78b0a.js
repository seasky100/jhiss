(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-77c78b0a"],{"71c3":function(e,t,a){},8534:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return c}));var n=a("b775"),i=a("3259");function s(e){return Object(n.a)({url:i.a.askForLeave.vacationTypeStatistics,method:"get",params:e}).then((function(e){return e.data}))}function r(e){return Object(n.a)({url:i.a.askForLeave.vacationExceptionStatistics,method:"get",params:e}).then((function(e){return e.data}))}function l(e){return Object(n.a)({url:i.a.askForLeave.applyException,method:"get",params:e}).then((function(e){return e.data}))}function o(e){return Object(n.a)({url:i.a.askForLeave.vacationApplyByMonth,method:"get",params:e}).then((function(e){return e.data}))}function c(e){return Object(n.a)({url:i.a.askForLeave.findVacationPage,method:"get",params:e}).then((function(e){var t=e.data.size;return{data:e.data.records,total:e.data.total,size:t}}))}},c312:function(e,t,a){"use strict";var n=a("71c3");a.n(n).a},c8d2:function(e,t,a){},e210:function(e,t,a){"use strict";var n=a("c8d2");a.n(n).a},fa4b:function(e,t,a){"use strict";a.r(t);var n=a("6861"),i=a("8534"),s=a("b166"),r={props:{title:{type:String,default:"评价预警"}},filters:{formatTime:function(e,t){var a=1<arguments.length&&void 0!==t?t:"yyyy-MM-dd HH:mm:ss";if(e)return Object(s.a)(e,a)}},data:function(){return{visible:!1,detailInfo:{}}},methods:{open:function(e){this.visible=!0,this.detailInfo=e}}},l=(a("c312"),a("2877")),o=Object(l.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.title,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"detail-wrapper"},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("div",{staticClass:"detail-info"},[a("div",{staticClass:"user-info mb-ten"},[a("span",[e._v(e._s(e.detailInfo.userName?e.detailInfo.userName:""))]),a("span",[e._v(e._s(e.detailInfo.policeCode?e.detailInfo.policeCode:""))]),a("span",[e._v(e._s(e.detailInfo.department?e.detailInfo.department:""))])]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("请假时间：")]),a("span",[e._v(e._s(e._f("formatTime")(e.detailInfo.leaveTime)))])]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("请假开始时间：")]),a("span",[e._v(e._s(e._f("formatTime")(e.detailInfo.startTime)))])]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("请假结束时间：")]),a("span",[e._v(e._s(e._f("formatTime")(e.detailInfo.endTime)))])]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("请假事由：")]),a("span")]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("请假时长：")]),a("span")]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("审批人：")]),a("span",[e._v(e._s(e.detailInfo.approvalUserName?e.detailInfo.approvalUserName:""))])]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("审批时间：")]),a("span",[e._v(e._s(e._f("formatTime")(e.detailInfo.applyTime)))])]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("审批意见：")]),a("span")]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("预警时间：")]),a("span")]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("预警原因：")]),a("span",[e._v(e._s(e.detailInfo.exceptionReason?e.detailInfo.exceptionReason:""))])]),a("div",{staticClass:"mb-ten"},[a("span",[e._v("预警内容：")]),a("span")]),a("div",{staticClass:"advice"},[a("p",[e._v("本人反馈：")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"},model:{value:e.detailInfo.userCreate,callback:function(t){e.$set(e.detailInfo,"userCreate",t)},expression:"detailInfo.userCreate"}})],1),a("div",{staticClass:"advice"},[a("p",[e._v("层级领导反馈：")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"}})],1),a("div",{staticClass:"advice"},[a("p",[e._v("职能部门反馈：")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"}})],1)])])],1)])],1)}),[],!1,null,"3a1f692c",null).exports,c={components:{HistogramChart:n.default,LeaveSituationDetails:o},data:function(){var e=this;return{leaveTime:{data:{columns:["type","number"],rows:[]},labelMap:{number:"次数"}},approvalNumber:{data:{columns:["type","number"],rows:[]},labelMap:{number:"数量"}},searchData:{policeCode:"",userName:"",department:"",startTime:"",endTime:"",applyType:""},searchForm:[{type:"input",prop:"police_code",width:"120px",placeholder:"警号"},{type:"input",prop:"user_name",width:"120px",placeholder:"姓名"},{type:"select",prop:"department",width:"150px",options:[],change:function(){},placeholder:"所属部门"},{type:"daterange",options:[{prop:"startTime",format:"",valueformat:"",placeholder:"起始时间"},{prop:"endTime",format:"",valueformat:"",placeholder:"结束时间"}]},{type:"select",prop:"applyType",width:"150px",options:[],change:function(){},placeholder:"请假类型"}],userId:{userId:"2020"},options:{pageSize:10,hasIndex:!1,currentPage:1,loading:!0,maxHeight:null,height:"500"},columns:[{prop:"policeCode",label:"警号",align:"left"},{prop:"userName",label:"姓名",align:"left"},{prop:"department",label:"部门",align:"left"},{prop:"leaveTime",label:"请假时间",align:"left"},{prop:"applyType",label:"请假类型",align:"left"},{prop:"isException",label:"是否异常",align:"left"}],operates:{width:150,fixed:"right",list:[{id:"1",label:"详情",show:!0,underline:!1,icon:'<i class="el-icon-view"></i>',disabled:!1,method:function(t,a){e.$refs.leaveSituationDetails.open(a)},showCallback:function(){return!0}}]},tableList:[]}},methods:{handleSearch:function(e){Object.assign(this.searchData,e),this.query()},afterCurrentPageClickHandle:function(e,t){this.query(e),t()},query:function(e){var t=this,a=0<arguments.length&&void 0!==e?e:1;Object(i.c)(Object.assign({nCurrent:a,nSize:10},this.searchData,this.userId)).then((function(e){t.$refs.recordSpTableRef.setPageInfo(a,e.size,e.total,e.data)}))}},created:function(){var e=this;Object(i.b)({userId:"5ba98b66cd3549b9b92ea8723e89207e"}).then((function(t){var a=[];for(var n in t)a.push({type:n,number:t[n]});e.leaveTime.data.rows=a})),Object(i.e)().then((function(t){var a=[];for(var n in t)a.push({type:n,number:t[n]});e.approvalNumber.data.rows=a})),this.query()}},p=(a("e210"),Object(l.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"content"},[a("el-row",{staticClass:"bg-fff"},[a("el-col",{attrs:{span:12}},[a("HistogramChart",{attrs:{"chart-data":e.leaveTime.data,"label-map":e.leaveTime.labelMap,title:"请假次数"}})],1),a("el-col",{attrs:{span:12}},[a("HistogramChart",{attrs:{"chart-data":e.approvalNumber.data,"label-map":e.approvalNumber.labelMap,title:"异常次数"}})],1)],1),a("div",{staticClass:"search-wrap"},[a("div",{staticClass:"section-title"},[e._v("查询条件")]),a("e-search",{staticClass:"search-form",attrs:{searchData:e.searchData,searchForm:e.searchForm},on:{handleSearch:e.handleSearch}})],1),a("div",[a("e-table",{ref:"recordSpTableRef",attrs:{options:e.options,columns:e.columns,operates:e.operates,tableList:e.tableList},on:{afterCurrentPageClick:e.afterCurrentPageClickHandle}})],1)],1),a("LeaveSituationDetails",{ref:"leaveSituationDetails"})],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-title"},[t("span",[this._v("请假情况分析")])])}],!1,null,"2fb40e89",null));t.default=p.exports}}]);