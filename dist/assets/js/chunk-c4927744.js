(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c4927744","chunk-4de20f6a"],{"0863":function(t,e,a){"use strict";var n=a("8f1d");a.n(n).a},"1c31":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"g",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"o",(function(){return l})),a.d(e,"d",(function(){return c})),a.d(e,"z",(function(){return u})),a.d(e,"e",(function(){return d})),a.d(e,"a",(function(){return p})),a.d(e,"j",(function(){return f})),a.d(e,"h",(function(){return m})),a.d(e,"i",(function(){return h})),a.d(e,"m",(function(){return b})),a.d(e,"n",(function(){return v})),a.d(e,"p",(function(){return g})),a.d(e,"y",(function(){return y})),a.d(e,"l",(function(){return _})),a.d(e,"w",(function(){return w})),a.d(e,"t",(function(){return C})),a.d(e,"s",(function(){return O})),a.d(e,"u",(function(){return I})),a.d(e,"r",(function(){return j})),a.d(e,"x",(function(){return x})),a.d(e,"v",(function(){return S})),a.d(e,"q",(function(){return D})),a.d(e,"k",(function(){return T})),a.d(e,"f",(function(){return k}));var n=a("b775"),r=a("3259");function i(t){return Object(n.a)({url:r.a.report.findInterViewPage,method:"get",params:t})}function s(t){return Object(n.a)({url:r.a.report.getInterViewById,method:"get",params:t})}function o(t){return Object(n.a)({url:r.a.report.deleteInterView,method:"delete",params:t})}function l(t){return Object(n.a)({url:r.a.report.saveInterView,method:"post",data:t})}function c(t){return Object(n.a)({url:r.a.report.findReportPage,method:"get",params:t})}function u(t){return Object(n.a)({url:r.a.post.treeAndUser,method:"get",params:t})}function d(t){return Object(n.a)({url:r.a.post.findWorknotePage,method:"get",params:t})}function p(t){return Object(n.a)({url:r.a.post.countWorkNote,method:"get",params:t})}function f(t){return Object(n.a)({url:r.a.post.noteAduit,method:"post",params:t})}function m(t){return Object(n.a)({url:r.a.post.getRiskByUserId,method:"get",params:t})}function h(t){return Object(n.a)({url:r.a.post.getUserList,method:"get",params:t})}function b(t){return Object(n.a)({url:r.a.report.saveDeclareExit,method:"post",data:t})}function v(t){return Object(n.a)({url:r.a.report.saveDeclareHouse,method:"post",data:t})}function g(t){return Object(n.a)({url:r.a.report.saveMarrage,method:"post",data:t})}function y(t){return Object(n.a)({url:r.a.report.saveWeddingBanquet,method:"post",data:t})}function _(t){return Object(n.a)({url:r.a.report.saveCashGift,method:"post",data:t})}function w(t){return Object(n.a)({url:r.a.report.saveRelativesWork,method:"post",data:t})}function C(t){return Object(n.a)({url:r.a.report.saveRelativesAbroad,method:"post",data:t})}function O(t){return Object(n.a)({url:r.a.report.saveOverseasInvestment,method:"post",data:t})}function I(t){return Object(n.a)({url:r.a.report.saveRelativesBusiness,method:"post",data:t})}function j(t){return Object(n.a)({url:r.a.report.saveOverseasDeposit,method:"post",data:t})}function x(t){return Object(n.a)({url:r.a.report.saveSecuredLoan,method:"post",data:t})}function S(t){return Object(n.a)({url:r.a.report.saveRelativesIllegal,method:"post",data:t})}function D(t){return Object(n.a)({url:r.a.report.saveOtherReport,method:"post",data:t})}function T(t){return Object(n.a)({url:r.a.report.saveAffairApply,method:"post",data:t})}function k(t){return Object(n.a)({url:r.a.report.getApprovalById,method:"get",params:t})}},"201d":function(t,e,a){},3898:function(t,e,a){"use strict";var n=a("201d");a.n(n).a},"3e31":function(t,e,a){"use strict";var n=a("a76c");a.n(n).a},"43ce":function(t,e,a){},"655c":function(t,e,a){"use strict";var n=a("43ce");a.n(n).a},8846:function(t,e,a){"use strict";a.r(e);var n=a("afb1"),r=a("9f7e"),i=a("1c31"),s=a("b166"),o={props:{title:{type:String,default:"预警详情"}},filters:{formatTime:function(t,e){var a=1<arguments.length&&void 0!==e?e:"yyyy-MM-dd HH:mm:ss";if(t)return Object(s.a)(t,a)}},data:function(){return{visible:!1,detailInfo:{},textarea:"",tabelData:[{name:"张三",code:"001",dept:"机关纪委",time:"2019年12月20日 11:50:32",reason:"本人累计迟到3次及以上",list:[{name:"异常记录1：2019年12月21日 09:23:56 迟到 考勤方式 门禁"},{name:"异常记录1：2019年12月21日 09:23:56 迟到 考勤方式 门禁"},{name:"异常记录1：2019年12月21日 09:23:56 迟到 考勤方式 门禁"}]}]}},methods:{open:function(t){this.visible=!0,this.getDetailInfo(t)},getDetailInfo:function(t){var e=this,a={userId:t.userId,deptId:t.id};Object(n.t)(a).then((function(t){t.success&&(e.detailInfo=t.data)}))}}},l=(a("0863"),a("2877")),c={components:{DisposalAgent:Object(l.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"detail-wrapper"},[t._l(t.tabelData,(function(e,n){return a("div",{key:n,staticClass:"m_body"},[a("div",{staticClass:"m_message"},[a("span",[t._v(t._s(e.name))]),a("span",{staticClass:"m_code"},[t._v(t._s(e.code))]),a("span",{staticClass:"m_code"},[t._v(t._s(e.dept))])]),a("div",{staticClass:"m_things"},[t._v(" 预警时间："+t._s(e.time)+" ")]),a("div",{staticClass:"m_things"},[t._v(" 预警原因："+t._s(e.reason)+" ")]),t._l(e.list,(function(e,n){return a("div",{key:n,staticClass:"m_unusual"},[a("div",{staticClass:"m_message"},[t._v(" "+t._s(e.name)+" ")])])})),a("div",{staticClass:"m_message renack"},[a("div",{staticClass:"m_message"},[t._v("本人反馈")]),a("div",{staticClass:"m_message m_center"},[a("div",{staticClass:"m_message m_time"},[t._v(" 2020年2月22日 11:35:23 ")]),a("div",{staticClass:"m_message m_content"},[t._v("小孩突然发高烧，事关紧急未及时汇报")])])]),a("div",{staticClass:"m_message m_textarea"},[t._v("层级领导反馈")]),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),a("div",{staticClass:"m_message m_textarea"},[t._v("职能部门反馈")]),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],2)})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],2)])],1)}),[],!1,null,"100c9c81",null).exports},name:"IndividualReport",data:function(){var t=this;return{userId:"5ba98b66cd3549b9b92ea8723e89207e",addForm:"/organizationRequestAdd",searchData:{userName:"",policeCode:"",department:"",problemType:"",startTime:"",endTime:""},searchForm:[{type:"input",prop:"policeCode",width:"120px",placeholder:"发起人警号"},{type:"input",prop:"approvalName",width:"120px",placeholder:"发起人姓名"},{type:"select",prop:"deptId",width:"150px",options:[{label:"治安部门",value:"0"},{label:"交通管理部门",value:"1"}],change:function(){},placeholder:"所属部门"},{type:"daterange",options:[{prop:"startTime",format:"yyyy-MM-dd",valueformat:"yyyy-MM-dd",placeholder:"起始时间"},{prop:"endTime",format:"yyyy-MM-dd",valueformat:"yyyy-MM-dd",placeholder:"结束时间"}]},{type:"select",prop:"reportType",width:"150px",options:[{label:"饮酒",value:"201"},{label:"离开辖区",value:"202"},{label:"离开单位",value:"203"}],change:function(){},placeholder:"--申报类型--"},{type:"select",prop:"approvalStatus",width:"150px",options:[{label:"审批中",value:"1"},{label:"已通过",value:"2"},{label:"已驳回",value:"3"}],change:function(){},placeholder:"--审批状态--"}],tableList:[],options:{pageSize:10,hasIndex:!1,currentPage:1,loading:!0,maxHeight:null,height:"550"},columns:[{prop:"policeCode",label:"发起人警号",align:"left"},{prop:"approvalName",label:"发起人姓名",align:"left"},{prop:"department",label:"发起人部门",align:"left"},{prop:"reportType",formatter:"reportType_format",options:{201:"饮酒",202:"离开辖区",203:"离开单位"},label:"申报类型",align:"left"},{prop:"formData",formatter:"formData_format",label:"申报事由",align:"left"},{prop:"gmtCreate",formatter:"gmtCreate_format",label:"申报时间",width:"90px",align:"left"},{prop:"approvalStatus",formatter:"reportType_format",options:{1:"审批中",2:"已通过",3:"已驳回"},label:"审批状态",align:"left"}],operates:{width:150,fixed:"right",list:[{id:"1",label:"详情",show:!0,underline:!1,icon:'<i class="el-icon-view"></i>',disabled:!1,method:function(e,a){t.$refs.DisposalAgent.open(a)},showCallback:function(){return!0}}]}}},watch:{},mounted:function(){this.init()},methods:{init:function(){this.query()},reportType_format:function(t,e,a){return e.options[a]},gmtCreate_format:function(t,e,a){return new Date(a).toLocaleString("chinese",{hour12:!1})},formData_format:function(t,e,a){return JSON.parse(a).applyDesc},handleSearch:function(t){Object.assign(this.searchData,t),this.query()},afterCurrentPageClickHandle:function(t,e){this.query(t),e()},query:function(t){var e=this,a=0<arguments.length&&void 0!==t?t:1;Object(i.d)(Object.assign({nCurrent:a,nSize:10,userId:this.userId},this.searchData)).then((function(t){e.$refs.recordTableRef.setPageInfo(a,t.data.size,t.data.total,t.data.records)}))}}},u=(a("91ae"),Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"IndividualReport"},[a("div",[a("e-table",{ref:"recordTableRef",attrs:{tableList:t.tableList,options:t.options,columns:t.columns,operates:t.operates},on:{afterCurrentPageClick:t.afterCurrentPageClickHandle}})],1),a("DisposalAgent",{ref:"DisposalAgent"})],1)}),[],!1,null,"9eb809ee",null).exports),d={components:{AttendanceWarning:r.default,AgencyRequest:u},name:"a_body",data:function(){return{tabPosition:"left",userId:"5ba98b66cd3549b9b92ea8723e89207e",tableList:[],options:{pageSize:10,hasIndex:!1,currentPage:1,loading:!0,maxHeight:null,height:"500"},columns:[{prop:"policeCode",label:"警号",align:"left"},{prop:"userName",label:"姓名",align:"left"},{prop:"department",label:"所属部门",align:"left"},{prop:"warnTime",label:"预警时间",align:"left",type:"date",dateFormat:"yyyy-MM-dd"},{prop:"warnReason",label:"预警原因",align:"left"},{prop:"content",label:"反馈内容",align:"left"},{prop:"warnLevel",label:"预警级别",align:"left"}],operates:{width:150,fixed:"right",list:[{id:"1",label:"详情",show:!0,underline:!1,icon:'<i class="el-icon-view"></i>',disabled:!1,method:function(){},showCallback:function(){return!0}}]}}},watch:{},mounted:function(){this.init()},methods:{init:function(){this.query()},reportType_format:function(t,e,a){return e.options[a]},gmtCreate_format:function(t,e,a){return new Date(a).toLocaleString("chinese",{hour12:!1})},formData_format:function(t,e,a){return JSON.parse(a).applyDesc},afterCurrentPageClickHandle:function(t,e){this.query(t),e()},query:function(t){var e=this,a=0<arguments.length&&void 0!==t?t:1;Object(n.u)(Object.assign({nCurrent:a,nSize:10,user_id:"5ba98b66cd3549b9b92ea8723e89207e",isAsc:!1,orderByField:"warnTime",role:10,warnType:1},this.searchData)).then((function(t){e.$refs.recordSpTableRef.setPageInfo(a,t.data.size,t.data.total,t.data.records)}))}}},p=(a("3e31"),Object(l.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"a_body"},[a("div",{staticClass:"a_head"},[t._v("在线办公")]),a("div",{staticClass:"a_conent",staticStyle:{height:"90%"}},[a("div",{staticClass:"a_left"},[a("el-tabs",{staticStyle:{height:"200px"},attrs:{"tab-position":t.tabPosition}},[a("el-tab-pane",{attrs:{label:"事项申报"}},[a("AgencyRequest")],1),a("el-tab-pane",{attrs:{label:"事项即报"}},[a("div",[a("e-table",{ref:"recordSpTableRef",attrs:{tableList:t.tableList,options:t.options,columns:t.columns,operates:t.operates},on:{afterCurrentPageClick:t.afterCurrentPageClickHandle}})],1)]),a("el-tab-pane",{attrs:{label:"年度报告"}}),a("el-tab-pane",{attrs:{label:"检查通报"}})],1)],1)])])}),[],!1,null,"6c21d87e",null));e.default=p.exports},"8f1d":function(t,e,a){},"91ae":function(t,e,a){"use strict";var n=a("dcfc");a.n(n).a},"9f7e":function(t,e,a){"use strict";a.r(e),a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var n=a("ade3"),r=a("afb1"),i=a("2f62"),s=a("b166"),o={props:{title:{type:String,default:"预警详情"}},filters:{formatTime:function(t,e){var a=1<arguments.length&&void 0!==e?e:"yyyy-MM-dd HH:mm:ss";if(t)return Object(s.a)(t,a)}},data:function(){return{visible:!1,detailInfo:{}}},methods:{open:function(t){this.visible=!0,this.getDetailInfo(t)},getDetailInfo:function(t){var e=this,a={userId:t.userId,deptId:t.id};Object(r.t)(a).then((function(t){t.success&&(e.detailInfo=t.data)}))}}},l=(a("655c"),a("2877"));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var u={components:{warningDetail:Object(l.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"detail-wrapper"},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("div",{staticClass:"detail-info"},[a("div",{staticClass:"user-info mb-ten"},[a("span",[t._v(t._s(t.detailInfo.userName?t.detailInfo.userName:""))]),a("span",[t._v(t._s(t.detailInfo.policeCode?t.detailInfo.policeCode:""))]),a("span",[t._v(t._s(t.detailInfo.department?t.detailInfo.department:""))])]),a("div",{staticClass:"mb-ten"},[a("span",[t._v("预警时间：")]),a("span",[t._v(t._s(t._f("formatTime")(t.detailInfo.warnTime)))])]),a("div",{staticClass:"mb-ten"},[a("span",[t._v("预警原因：")]),a("span",[t._v(t._s(t.detailInfo.warnReason?t.detailInfo.warnReason:""))])]),a("div",{staticClass:"advice"},[a("p",[t._v("本人反馈：")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"},model:{value:t.detailInfo.content,callback:function(e){t.$set(t.detailInfo,"content",e)},expression:"detailInfo.content"}})],1),a("div",{staticClass:"advice"},[a("p",[t._v("层级领导反馈：")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"},model:{value:t.detailInfo.leaderAdvice,callback:function(e){t.$set(t.detailInfo,"leaderAdvice",e)},expression:"detailInfo.leaderAdvice"}})],1),a("div",{staticClass:"advice"},[a("p",[t._v("职能部门反馈：")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"},model:{value:t.detailInfo.branchAdvice,callback:function(e){t.$set(t.detailInfo,"branchAdvice",e)},expression:"detailInfo.branchAdvice"}})],1)])])],1)])],1)}),[],!1,null,"da926b9a",null).exports},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(i.c)(["userId"])),data:function(){var t=this;return this.chartExtend={series:{smooth:!1}},{searchData:{userName:"",policeCode:"",department:"",problemType:"",startTime:"",endTime:""},searchForm:[{type:"input",prop:"policeCode",width:"120px",placeholder:"警号"},{type:"input",prop:"userName",width:"120px",placeholder:"姓名"},{type:"input",prop:"reason",width:"120px",placeholder:"预警原因"},{type:"daterange",options:[{prop:"startTime",format:"",valueformat:"",placeholder:"起始时间"},{prop:"endTime",format:"",valueformat:"",placeholder:"结束时间"}]},{type:"select",prop:"dept_id",width:"150px",options:[{label:"治安部门",value:"0"},{label:"交通管理部门",value:"1"}],change:function(){},placeholder:"所属部门"},{type:"select",prop:"response",width:"150px",options:[{label:"否",value:0},{label:"是",value:1}],change:function(){},placeholder:"是否反馈"}],tableList:[],options:{pageSize:10,hasIndex:!(this.chartSettings={labelMap:{warnnum:"次数"}}),currentPage:1,loading:!0,maxHeight:null,height:"560"},columns:[{prop:"policeCode",label:"警号",align:"left"},{prop:"userName",label:"姓名",align:"left"},{prop:"department",label:"所属部门",align:"left"},{prop:"warnTime",label:"预警时间",align:"left",type:"date",dateFormat:"yyyy-MM-dd"},{prop:"warnReason",label:"预警原因",align:"left"},{prop:"content",label:"反馈内容",align:"left"},{prop:"warnLevel",label:"预警级别",align:"left"}],operates:{width:150,fixed:"right",list:[{id:"1",label:"详情",show:!0,underline:!1,icon:'<i class="el-icon-view"></i>',disabled:!1,method:function(e,a){t.$refs.warningDialog.open(a)},showCallback:function(){return!0}}]},warnStatusTitle:{text:"预警处置情况统计"},warnStatusSettings:{labelMap:{num:"次数"}},warnStatusStatistics:{columns:["status","num"],rows:[]},humanStatistics:{columns:["user_name","warnnum"],rows:[]},title:{text:"考勤预警人员统计",left:"center"}}},methods:{handleSearch:function(t){Object.assign(this.searchData,t),this.query()},afterCurrentPageClickHandle:function(t,e){this.query(t),e()},getHumanStatistics:function(){var t=this,e={userId:this.userId};Object(r.s)(e).then((function(e){e.success&&(t.humanStatistics.rows=e.data)}))},getWarnStatusStatistics:function(){var t=this,e={userId:this.userId};Object(r.v)(e).then((function(e){if(e.success&&e.data){var a=[];for(var n in e.data)a.push({status:n,num:e.data[n]});t.warnStatusStatistics.rows=a}}))},query:function(t){var e=this,a=0<arguments.length&&void 0!==t?t:1;Object(r.u)(Object.assign({nCurrent:a,nSize:10,user_id:this.userId,isAsc:!1,orderByField:"warnTime",role:10,warnType:1},this.searchData)).then((function(t){e.$refs.recordSpTableRef.setPageInfo(a,t.data.size,t.data.total,t.data.records)}))}},mounted:function(){this.getHumanStatistics(),this.getWarnStatusStatistics(),this.query()}},d=(a("3898"),Object(l.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"content"},[a("el-row",{staticClass:"bg-fff"},[a("el-col",{attrs:{span:12}},[a("e-histogram",{attrs:{chartSettings:t.warnStatusSettings,title:t.warnStatusTitle,chartData:t.warnStatusStatistics}})],1),a("el-col",{attrs:{span:12}},[a("ve-line",{attrs:{title:t.title,data:t.humanStatistics,extend:t.chartExtend,settings:t.chartSettings,"legend-visible":!1}})],1)],1),a("div",{staticClass:"search-wrap"},[a("div",{staticClass:"section-title"},[t._v("查询条件")]),a("e-search",{staticClass:"search-form",attrs:{searchData:t.searchData,searchForm:t.searchForm},on:{handleSearch:t.handleSearch}})],1),a("div",[a("e-table",{ref:"recordSpTableRef",attrs:{tableList:t.tableList,options:t.options,columns:t.columns,operates:t.operates},on:{afterCurrentPageClick:t.afterCurrentPageClickHandle}})],1)],1),a("warning-detail",{ref:"warningDialog"})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-title"},[e("span",[this._v("考勤预警管控")])])}],!1,null,"6f67fe7b",null));e.default=d.exports},a76c:function(t,e,a){},dcfc:function(t,e,a){}}]);